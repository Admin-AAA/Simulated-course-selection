* { box-sizing: border-box; }
html, body { height: 100%; }
body {
	margin: 0;
	font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", sans-serif;
	color: #1f2937;
	background: #f8fafc;
}

.page-header, .page-footer {
	padding: 12px 16px;
	background: #ffffff;
	border-bottom: 1px solid #e5e7eb;
}
.page-footer { border-top: 1px solid #e5e7eb; border-bottom: none; }
.page-header h1 { margin: 0 0 8px; font-size: 20px; }
.actions { display: flex; gap: 12px; align-items: center; }
.file-picker { display: inline-flex; gap: 8px; align-items: center; cursor: pointer; }
.file-picker input { display: none; }

.layout {
	display: grid;
	grid-template-rows: auto 1fr;
	gap: 12px;
	padding: 12px 16px 24px;
}

.calendar-section {
	background: #ffffff;
	border: 1px solid #e5e7eb;
	border-radius: 8px;
	padding: 12px;
	overflow-x: auto; /* 确保水平滚动 */
}
.calendar-header {
	display: grid;
	grid-template-columns: 120px 1fr 120px;
	align-items: center;
	gap: 8px;
	margin-bottom: 8px;
}
.week-title { text-align: center; font-weight: 600; }
.nav-btn { padding: 6px 10px; }
.calendar-legend { display: flex; gap: 12px; font-size: 12px; color: #6b7280; margin-top: 8px; }
.legend-item::before {
	content: "";
	display: inline-block;
	width: 10px; height: 10px; border-radius: 2px; margin-right: 6px; vertical-align: middle;
	background: #e5e7eb;
}
.legend-selected::before { background: #60a5fa; }
.legend-conflict::before { background: #f87171; }

.calendar {
	display: grid;
	grid-template-columns: 80px 180px 180px 180px 180px 180px 180px 180px 180px 180px 180px 180px 180px 180px 180px 180px 180px 180px 180px 180px 180px 180px 180px 180px 180px 180px 180px 180px 180px 180px 180px 180px 180px 180px 180px 180px 180px; /* 时间列80px + 36个课程列各180px */
	border-top: 1px solid #e5e7eb;
	border-left: 1px solid #e5e7eb;
	overflow: auto;
	max-height: 420px;
	position: relative; /* 作为事件块的定位容器 */
	width: 100%;
}
.calendar .cell, .calendar .time-col, .calendar .day-col {
	border-right: 1px solid #e5e7eb;
	border-bottom: 1px solid #e5e7eb;
	position: relative;
	min-height: 150px; /* 增加高度以容纳课程信息 */
}
.calendar .cell {
	width: 180px; /* 课程列固定宽度 */
}
.calendar .time-col {
	width: 80px; /* 时间列固定宽度 */
}
.time-col { background: #fafafa; font-size: 12px; color: #6b7280; text-align: right; padding: 4px 6px; }
.day-header { 
	background: #fafafa; 
	text-align: center; 
	padding: 6px 4px; 
	font-weight: 600; 
	position: sticky; 
	top: 0; 
	z-index: 2; 
	font-size: 11px; 
	line-height: 1.2;
	width: 180px; /* 课程列固定宽度 */
}

.event {
	position: absolute;
	border-radius: 6px;
	padding: 6px 8px;
	font-size: 12px;
	line-height: 1.2;
	color: #0b1220;
	background: #dbeafe;
	border: 1px solid #93c5fd;
	overflow: hidden;
}
.event.conflict { background: #fee2e2; border-color: #fca5a5; }
.event .title { font-weight: 600; margin-bottom: 4px; }
.event .meta { color: #374151; opacity: 0.9; }

/* 冲突合并卡片内部 */
.event.group { display: flex; flex-direction: column; gap: 6px; padding: 8px; }
.event .conf-list { display: flex; flex-direction: column; gap: 6px; }
.event .conf-item { background: rgba(255,255,255,0.6); border: 1px dashed #fca5a5; border-radius: 4px; padding: 6px; }
.event .conf-title { font-weight: 600; margin-bottom: 2px; }
.event .conf-meta { color: #374151; opacity: 0.9; }

.list-section {
	background: #ffffff;
	border: 1px solid #e5e7eb;
	border-radius: 8px;
	padding: 12px;
}
.list-toolbar { display: flex; gap: 8px; align-items: center; margin-bottom: 8px; justify-content: space-between; }
.list-toolbar input[type="search"] { padding: 6px 8px; width: 280px; }

.course-table { width: 100%; border-collapse: collapse; }
.course-table th, .course-table td { border: 1px solid #e5e7eb; padding: 8px; font-size: 14px; }
.course-table thead th { background: #fafafa; }
.course-table tbody tr:hover { background: #f9fafb; }

.mapping-hint { font-size: 12px; color: #6b7280; margin-bottom: 6px; }

button { cursor: pointer; } 