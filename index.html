<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>选课系统</title>
	<link rel="stylesheet" href="./styles.css" />
	<!-- dayjs -->
	<script src="https://cdn.jsdelivr.net/npm/dayjs@1/dayjs.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/dayjs@1/locale/zh-cn.js"></script>
	<script>dayjs.locale('zh-cn');</script>
	<!-- xlsx -->
	<script src="https://cdn.jsdelivr.net/npm/xlsx@0.20.2/dist/xlsx.full.min.js"></script>
</head>
<body>

	<main class="layout">
		<section class="calendar-section">
			<div class="calendar-header">
				<button id="prevWeekBtn" class="nav-btn" type="button">‹ 上周</button>
				<div id="weekTitle" class="week-title"></div>
				<button id="nextWeekBtn" class="nav-btn" type="button">下周 ›</button>
			</div>
			<div id="calendar" class="calendar"></div>
			<div class="calendar-legend">
				<span class="legend-item legend-free">空闲</span>
				<span class="legend-item legend-selected">已选</span>
				<span class="legend-item legend-required">必修</span>
				<span class="legend-item legend-gpa">计入GPA</span>
				<span class="legend-item legend-non-gpa">不计GPA</span>
				<span class="legend-item legend-conflict">冲突</span>
			</div>
		</section>

		<section class="list-section">
			<div class="list-toolbar">
                <label for="searchInput"></label><input id="searchInput" type="search" placeholder="搜索课程/老师/教室" />
				<button id="clearSelectionBtn" type="button">清空已选</button>
				<button id="exportBtn" type="button">导出选课</button>
				<button id="importBtn" type="button">导入选课</button>
				<input id="importFileInput" type="file" accept=".json" style="display: none;" />
				<div class="actions">
					<span id="creditTotalWrap">已选学分：<strong id="creditTotal">0</strong></span>
					<span id="requiredProgressWrap" style="margin-left:16px;">核心必修：<strong id="requiredProgress">0/3</strong></span>
					<span id="gpaWrap" style="margin-left:16px;">GPA学分：<strong id="gpaDisplay">0</strong></span>
					<span id="conflictWrap" style="margin-left:16px;">时间冲突：<strong id="conflictDisplay">0</strong></span>
				</div>
			</div>
			<div id="mappingHint" class="mapping-hint" hidden></div>
			<table class="course-table">
				<thead>
					<tr>
						<th style="width:48px;">选</th>
						<th>代码</th>
						<th>课程名</th>
						<th>星期</th>
						<th>时间</th>
						<th>老师</th>
						<th>教室</th>
						<th>周次</th>
					</tr>
				</thead>
				<tbody id="courseTbody"></tbody>
			</table>
		</section>
	</main>

	<footer class="page-footer">
		<span>数据源：当前目录下的 25级25秋季课程安排信息.xlsx</span>
	</footer>

	<script src="./app.js"></script>
</body>
</html> 